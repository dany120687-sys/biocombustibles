<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Tablero de Estufas Ecológicas</title>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans:wght@400;600;800&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
  <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
  <style>
    :root{
      --pantone7421:#691C32;
      --pantone7420:#9F2241;
      --pantone465:#BC955C;
      --pantone468:#DDC9A3;
      --verde627:#10312B;
      --verde468:#235B4E;
      --pantone424:#6F7271;
      --coolgray7c:#98989A;
      --pantone7412:#D48232;
      --pantone7742:#5A844E;
      --pantone7742_60:#8FAB85;
      --pantone7746:#999A32;
      --pantone5115:#522A44;
      --pantone4635:#999A32;
    }
    body{
      margin:0;
      font-family:'Noto Sans', sans-serif;
      font-size:11px;
      background:#f7f7f7;
    }

    /* ----- Encabezado ----- */
    .topbar{
      background:var(--verde627);
      color:#fff;
      padding:14px 20px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:16px;
    }
    .brand-wrap{display:flex;align-items:center;gap:14px}
    .chip{
      width:44px;height:44px;border-radius:10px;
      background:#fff;color:var(--verde627);
      display:grid;place-items:center;font-weight:800;
    }
    .brand{font-size:22px;font-weight:800;line-height:1.1}
    .brand small{display:block;font-weight:600;opacity:.9}

    .header-logos{
      display:flex;align-items:center;gap:14px;
      flex-wrap:wrap;
      max-width:55vw;
    }
    .header-logos img{
      height:42px;
      width:auto;
      display:block;
      background:transparent;
    }

    @media (max-width: 1200px){
      .header-logos img{height:38px}
    }
    @media (max-width: 980px){
      .brand{font-size:18px}
      .header-logos img{height:34px}
    }
    @media (max-width: 760px){
      .brand small{display:none}
      .header-logos{gap:10px}
      .header-logos img{height:30px}
    }
    @media (max-width: 560px){
      .chip{display:none}
      .header-logos img{height:26px}
    }

    /* ----- Contenedor principal ----- */
    .container{
      padding:20px;
      max-width:1400px;
      margin:auto;
    }

    /* ----- Paneles de KPIs ----- */
    .kpi-row{
      display:grid;
      grid-template-columns:repeat(auto-fit,minmax(200px,1fr));
      gap:10px;
      margin-bottom:20px;
    }
    .kpi{
      background:#fff;
      padding:14px;
      border-radius:8px;
      box-shadow:0 2px 4px rgba(0,0,0,0.05);
      text-align:center;
    }
    .kpi h3{
      margin:0;
      font-size:28px;
      color:var(--pantone7420);
    }
    .kpi p{
      margin:0;
      font-size:12px;
      color:#555;
    }

    /* ----- Secciones ----- */
    .section{
      background:#f1f3f4;
      padding:14px;
      border-radius:8px;
      margin-bottom:20px;
    }
    .section h2{
      margin-top:0;
      font-size:16px;
      color:#000;
    }
    #map{
      width:100%;
      height:400px;
    }
  </style>
</head>
<body>

<header class="topbar">
  <div class="brand-wrap">
    <div class="chip">DG</div>
    <div class="brand">
      DIRECCIÓN GENERAL DE ENERGÍAS LIMPIAS
      <small>Tablero de Estufas Ecológicas · MVP</small>
    </div>
  </div>
  <div class="header-logos">
    <img src="1. SENER.png" alt="SENER" />
    <img src="2. BIENESTAR.png" alt="Secretaría de Bienestar" />
    <img src="3. Logo_Ciencia.png" alt="Ciencia y Tecnología" />
    <img src="4. INPI.png" alt="INPI" />
  </div>
</header>

<div class="container">

  <!-- KPIs -->
  <div class="kpi-row">
    <div class="kpi"><h3>7</h3><p>ESTUFAS INSTALADAS</p></div>
    <div class="kpi"><h3>7</h3><p>HOGARES BENEFICIADOS</p></div>
    <div class="kpi"><h3>6.7</h3><p>T CO₂e EVITADAS (ESTIMADAS)</p></div>
    <div class="kpi"><h3>1 (14%)</h3><p>SEGUIMIENTO POS-INSTALACIÓN</p></div>
  </div>

  <!-- Mapa -->
  <div class="section">
    <h2>Mapa de instalaciones</h2>
    <div id="map"></div>
  </div>

  <!-- Instalaciones por año -->
  <div class="section">
    <h2>Instalaciones por año</h2>
    <canvas id="chart1"></canvas>
  </div>

</div>

<script>
  // Inicializar mapa Leaflet
  var map = L.map('map').setView([19.7, -101.2], 7);
  L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
    maxZoom: 19
  }).addTo(map);

  // Cargar GeoJSON
  fetch('localidades_filtrdas_mich.geojson')
    .then(res => res.json())
    .then(data => {
      L.geoJSON(data, {
        style: { color: '#9F2241', weight: 1, fillOpacity: 0.6 }
      }).addTo(map);
    });
</script>

</body>
</html>
